# 認証設定ガイド

## メール確認を無効化する方法

現在、メール確認を必要としない設定になっています。

### Supabaseダッシュボードでの設定

1. [Supabase Dashboard](https://app.supabase.com) にログイン
2. プロジェクトを選択
3. **Authentication > Settings** に移動
4. **Email Auth** セクションで以下を設定：
   - `Enable email confirmations` を **OFF** にする
   - `Confirm email` を **OFF** にする

### SQLでの設定（オプション）

`supabase/disable-email-confirm.sql` を実行することで、既存ユーザーのメール確認状態を更新し、新規ユーザーの自動確認を有効化できます。

```sql
-- Supabase Dashboard > SQL Editor で実行
-- disable-email-confirm.sql の内容を実行
```

## エラーメッセージの日本語化

すべてのエラーメッセージは日本語で表示されます：

- **登録エラー**:
  - "このメールアドレスは既に登録されています"
  - "有効なメールアドレスを入力してください"
  - "パスワードは8文字以上で、大文字・小文字・数字を含む必要があります"

- **ログインエラー**:
  - "メールアドレスまたはパスワードが正しくありません"
  - "ログインに失敗しました。もう一度お試しください。"

- **レート制限**:
  - "ログイン試行回数が上限に達しました。X分後に再試行してください。"

## セキュリティ設定

### パスワード要件
- 最小8文字
- 大文字を1文字以上含む
- 小文字を1文字以上含む
- 数字を1文字以上含む

### レート制限
- 5回の失敗で15分間ロック
- IPアドレスベースではなくメールアドレスベース

### 入力検証
- メールアドレス: 有効な形式、最大255文字
- ニックネーム: 2-50文字、日本語・英数字のみ
- 年齢: 1-150の整数
- パスワード: 8-100文字、複雑性要件あり